(()=>{"use strict";var e={289:(e,t,a)=>{a(3792),a(3362),a(9085),a(9391);var r=a(5471),s=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},o=[];const n={name:"App"},l=n;var i=a(1656),c=(0,i.A)(l,s,o,!1,null,null,null);const u=c.exports;var d=a(173),v=(a(2762),function(){var e=this,t=e._self._c;return t("div",{staticClass:"story-extract-form"},[t("h2",[e._v("Extract Stories")]),e.status.message?t("div",{class:["status-message",e.status.type]},[e._v(" "+e._s(e.status.message)+" ")]):e._e(),t("div",{staticClass:"form-container"},[t("div",{staticClass:"form-group"},[t("label",{staticClass:"required",attrs:{for:"url"}},[e._v("V1 URL")]),t("input",{directives:[{name:"model",rawName:"v-model.lazy",value:e.formData["v1.url"],expression:"formData['v1.url']",modifiers:{lazy:!0}}],staticClass:"form-control",class:{"is-invalid":e.urlError},attrs:{id:"url",type:"url",placeholder:"https://www16.v1host.com/api-examples",required:""},domProps:{value:e.formData["v1.url"]},on:{blur:e.validateUrl,change:function(t){return e.$set(e.formData,"v1.url",t.target.value)}}}),e.urlError?t("div",{staticClass:"invalid-feedback"},[e._v(" "+e._s(e.urlError)+" ")]):e._e()]),t("div",{staticClass:"form-group"},[t("label",{staticClass:"required",attrs:{for:"token"}},[e._v("V1 Token")]),t("input",{directives:[{name:"model",rawName:"v-model.lazy",value:e.formData["v1.token"],expression:"formData['v1.token']",modifiers:{lazy:!0}}],staticClass:"form-control",class:{"is-invalid":e.tokenError},attrs:{id:"token",type:"password",placeholder:"Enter your V1 token",required:""},domProps:{value:e.formData["v1.token"]},on:{blur:e.validateToken,change:function(t){return e.$set(e.formData,"v1.token",t.target.value)}}}),e.tokenError?t("div",{staticClass:"invalid-feedback"},[e._v(" "+e._s(e.tokenError)+" ")]):e._e()]),t("div",{staticClass:"form-group",class:{"is-invalid":e.scopeError}},[t("label",{staticClass:"required"},[e._v("Select Team(s)")]),t("div",{staticClass:"scope-selection"},[t("div",{staticClass:"radio-group"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedScope,expression:"selectedScope"}],attrs:{type:"radio",id:"planningLevel",name:"scopeType",value:"planningLevel"},domProps:{checked:e._q(e.selectedScope,"planningLevel")},on:{change:function(t){e.selectedScope="planningLevel"}}}),t("label",{attrs:{for:"planningLevel"}},[e._v("Planning Level")]),"planningLevel"===e.selectedScope?t("input",{directives:[{name:"model",rawName:"v-model.lazy",value:e.formData["v1.planningLevel"],expression:"formData['v1.planningLevel']",modifiers:{lazy:!0}}],staticClass:"form-control",attrs:{type:"text",placeholder:"Scope:xxxx"},domProps:{value:e.formData["v1.planningLevel"]},on:{blur:e.validateScope,change:function(t){return e.$set(e.formData,"v1.planningLevel",t.target.value)}}}):e._e()]),t("div",{staticClass:"radio-group"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedScope,expression:"selectedScope"}],attrs:{type:"radio",id:"team",name:"scopeType",value:"team"},domProps:{checked:e._q(e.selectedScope,"team")},on:{change:function(t){e.selectedScope="team"}}}),t("label",{attrs:{for:"team"}},[e._v("Single Team")]),"team"===e.selectedScope?t("input",{directives:[{name:"model",rawName:"v-model.lazy",value:e.formData["v1.team"],expression:"formData['v1.team']",modifiers:{lazy:!0}}],staticClass:"form-control",attrs:{type:"text",placeholder:"Team:xxxx"},domProps:{value:e.formData["v1.team"]},on:{blur:e.validateScope,change:function(t){return e.$set(e.formData,"v1.team",t.target.value)}}}):e._e()])]),e.scopeError?t("div",{staticClass:"invalid-feedback"},[e._v(" "+e._s(e.scopeError)+" ")]):e._e()]),t("div",{staticClass:"form-group"},[t("label",{attrs:{for:"fromClosedDate"}},[e._v("From Closed Date")]),t("input",{directives:[{name:"model",rawName:"v-model.lazy",value:e.formData.fromClosedDate,expression:"formData.fromClosedDate",modifiers:{lazy:!0}}],staticClass:"form-control",attrs:{id:"fromClosedDate",type:"date",required:""},domProps:{value:e.formData.fromClosedDate},on:{change:function(t){return e.$set(e.formData,"fromClosedDate",t.target.value)}}})]),t("div",{staticClass:"states-container"},[t("div",{staticClass:"states-header"},[t("label",{staticClass:"required"},[e._v("States (drag to reorder)")]),t("button",{staticClass:"add-state-button",attrs:{type:"button"},on:{click:e.addStateField}},[e._v(" + ")])]),t("draggable",{staticClass:"state-fields-list",attrs:{handle:".drag-handle"},model:{value:e.stateFields,callback:function(t){e.stateFields=t},expression:"stateFields"}},e._l(e.stateFields,(function(a,r){return t("div",{key:r,staticClass:"state-field-group"},[t("span",{staticClass:"drag-handle"},[e._v("☰")]),t("input",{directives:[{name:"model",rawName:"v-model.lazy",value:a.value,expression:"state.value",modifiers:{lazy:!0}}],staticClass:"form-control",class:{"is-invalid":e.statesError&&!a.value.trim()},attrs:{type:"text",placeholder:0===r?"Ready for Build":1===r?"Done":"Enter state",required:""},domProps:{value:a.value},on:{blur:e.validateStates,change:function(t){return e.$set(a,"value",t.target.value)}}}),e.canRemoveState&&r>=2?t("button",{staticClass:"remove-state-button",attrs:{type:"button"},on:{click:function(t){return e.removeStateField(r)}}},[e._v(" × ")]):e._e()])})),0),e.statesError?t("div",{staticClass:"invalid-feedback d-block"},[e._v(" "+e._s(e.statesError)+" ")]):e._e()],1),t("div",{staticClass:"form-group checkbox-group"},[t("label",[t("input",{attrs:{type:"checkbox"},domProps:{checked:"true"===e.formData.includeStoryPoints},on:{change:function(t){return e.formData.includeStoryPoints=t.target.checked?"true":"false"}}}),e._v(" Include Story Points ")])]),t("div",{staticClass:"form-group checkbox-group"},[t("label",[t("input",{attrs:{type:"checkbox"},domProps:{checked:"true"===e.formData.includeTeamName},on:{change:function(t){return e.formData.includeTeamName=t.target.checked?"true":"false"}}}),e._v(" Include Team Name ")])]),t("button",{staticClass:"submit-button",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.handleSubmit.apply(null,arguments)}}},[e._v("Extract Stories")])])])}),m=[],p=a(9217),f=a(5051),g=a(4634),h=(a(8706),a(2008),a(8598),a(2062),a(4114),a(4554),a(8111),a(2489),a(1701),a(6099),a(7764),a(2953),a(3296),a(7208),a(8408),a(4603),a(7566),a(8721),a(4335)),y=h.A.create({baseURL:"http://localhost:7070",headers:{"Content-Type":"application/json"},timeout:1e4});y.interceptors.request.use((function(e){return console.log("Starting Request:",{url:e.url,method:e.method,data:e.data}),e})),y.interceptors.response.use((function(e){return e}),(function(e){return"Network Error"===e.message&&console.error("API Server not reachable. Please ensure the server is running at:",y.defaults.baseURL),Promise.reject(e)}));const b=y;var S={extractStories:function(e){return console.log("Data being sent to API:",e),b.post("/api/stories/extract",e)}},k=a(432),_=a.n(k);const C={name:"StoryExtractForm",components:{draggable:_()},data:function(){return{selectedScope:"planningLevel",formData:{"v1.token":"","v1.url":"","v1.planningLevel":"","v1.team":"",fromClosedDate:"",includeStoryPoints:"true",includeTeamName:"true"},stateFields:[{value:""},{value:""}],status:{message:"",type:"info"},urlError:"",tokenError:"",scopeError:"",statesError:""}},computed:{canRemoveState:function(){return this.stateFields.length>2}},methods:{addStateField:function(){this.stateFields.push({value:""})},removeStateField:function(e){this.canRemoveState&&this.stateFields.splice(e,1)},downloadToFile:function(e,t,a){var r=new Blob([e],{type:a}),s=URL.createObjectURL(r),o=document.createElement("a");o.href=s,o.download=t,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(s)},validateUrl:function(){if(this.formData["v1.url"])try{new URL(this.formData["v1.url"]),this.urlError=""}catch(e){this.urlError="Invalid URL format"}else this.urlError="V1 URL is required"},validateToken:function(){this.tokenError=""===this.formData["v1.token"].trim()?"V1 Token is required":""},validateScope:function(){"planningLevel"===this.selectedScope&&!this.formData["v1.planningLevel"]||"team"===this.selectedScope&&!this.formData["v1.team"]?this.scopeError="Team(s) selection is required":this.scopeError=""},validateStates:function(){var e=this.stateFields.filter((function(e){return""!==e.value.trim()}));return e.length<2?(this.statesError="At least 2 states are required",!1):(this.statesError="",!0)},handleSubmit:function(){var e=this;return(0,g.A)((0,p.A)().m((function t(){var a,r,s,o,n,l,i;return(0,p.A)().w((function(t){while(1)switch(t.n){case 0:if(e.validateUrl(),e.validateToken(),e.validateScope(),e.validateStates(),!(e.urlError||e.tokenError||e.scopeError||e.statesError)){t.n=1;break}return e.status={message:"Required fields are missing or invalid",type:"error"},t.a(2);case 1:return t.p=1,e.status={message:"Submitting...",type:"info"},a=(0,f.A)((0,f.A)({},e.formData),{},{states:e.stateFields.map((function(e){return e.value.trim()})).filter((function(e){return""!==e})).join(",")}),"planningLevel"===e.selectedScope?delete a["v1.team"]:delete a["v1.planningLevel"],console.log("Sending data:",a),t.n=2,S.extractStories(a);case 2:r=t.v,s="stories.csv",e.downloadToFile(r.data,s,"text/csv"),e.status={message:"Stories extracted successfully! Downloading as ".concat(s),type:"success"},console.log("Success:",r.data),t.n=4;break;case 3:t.p=3,i=t.v,console.error("Full error:",i),o="Failed to extract stories",i.response?(console.error("Server response:",i.response),o="Server Error (".concat(i.response.status,"): ").concat((null===(n=i.response.data)||void 0===n?void 0:n.message)||i.response.statusText),null!==(l=i.response.data)&&void 0!==l&&l.details&&(o+="\nDetails: ".concat(i.response.data.details))):o=i.request?"No response received from server":i.message,e.status={message:o,type:"error"};case 4:return t.a(2)}}),t,null,[[1,3]])})))()}}},D=C;var x=(0,i.A)(D,v,m,!1,null,"5dfda818",null);const E=x.exports;r.Ay.use(d.Ay);var w=[{path:"/",name:"home",component:E}],L=new d.Ay({mode:"hash",base:"",routes:w});const T=L;r.Ay.config.productionTip=!1,new r.Ay({router:T,render:function(e){return e(u)}}).$mount("#app")}},t={};function a(r){var s=t[r];if(void 0!==s)return s.exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,a),o.exports}a.m=e,(()=>{var e=[];a.O=(t,r,s,o)=>{if(!r){var n=1/0;for(u=0;u<e.length;u++){for(var[r,s,o]=e[u],l=!0,i=0;i<r.length;i++)(!1&o||n>=o)&&Object.keys(a.O).every((e=>a.O[e](r[i])))?r.splice(i--,1):(l=!1,o<n&&(n=o));if(l){e.splice(u--,1);var c=s();void 0!==c&&(t=c)}}return t}o=o||0;for(var u=e.length;u>0&&e[u-1][2]>o;u--)e[u]=e[u-1];e[u]=[r,s,o]}})(),(()=>{a.n=e=>{var t=e&&e.__esModule?()=>e["default"]:()=>e;return a.d(t,{a:t}),t}})(),(()=>{a.d=(e,t)=>{for(var r in t)a.o(t,r)&&!a.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}})(),(()=>{a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()})(),(()=>{a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t)})(),(()=>{a.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}})(),(()=>{var e={524:0};a.O.j=t=>0===e[t];var t=(t,r)=>{var s,o,[n,l,i]=r,c=0;if(n.some((t=>0!==e[t]))){for(s in l)a.o(l,s)&&(a.m[s]=l[s]);if(i)var u=i(a)}for(t&&t(r);c<n.length;c++)o=n[c],a.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return a.O(u)},r=self["webpackChunkagility_access_ui"]=self["webpackChunkagility_access_ui"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var r=a.O(void 0,[504],(()=>a(289)));r=a.O(r)})();
//# sourceMappingURL=app.f8b0598c.js.map